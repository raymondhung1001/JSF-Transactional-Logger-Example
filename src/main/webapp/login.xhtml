<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Login - Todo App</title>
        <h:outputStylesheet library="webjars" name="bootstrap/4.6.2/css/bootstrap.min.css"/>
        <style>
            body {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .login-card {
                background: white;
                border-radius: 10px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2);
                padding: 2rem;
                max-width: 400px;
                width: 100%;
            }
            .login-header {
                text-align: center;
                margin-bottom: 2rem;
            }
            .login-header h2 {
                color: #667eea;
                font-weight: 600;
            }
        </style>
    </h:head>
    <h:body>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="login-card">
                        <div class="login-header">
                            <h2>Todo Application</h2>
                            <p class="text-muted">Please login to continue</p>
                        </div>
                        
                        <h:form id="loginForm">
                            <p:messages id="messages" showDetail="true" closable="true"/>
                            <ui:fragment rendered="#{param.timeout != null}">
                                <div class="alert alert-warning">
                                    <i class="pi pi-exclamation-triangle"></i> 
                                    Your session has expired due to inactivity. Please login again.
                                </div>
                            </ui:fragment>
                            <ui:fragment rendered="#{param.backButton != null}">
                                <div class="alert alert-info">
                                    <i class="pi pi-info-circle"></i> 
                                    You have been logged out. Using the browser back button is not allowed for security reasons. Please login again.
                                </div>
                            </ui:fragment>
                            
                            <div class="form-group">
                                <h:outputLabel for="username" value="Username" styleClass="form-label"/>
                                <p:inputText id="username" value="#{loginBean.username}" 
                                           styleClass="form-control" 
                                           placeholder="Enter username"
                                           required="true"
                                           requiredMessage="Username is required"/>
                            </div>
                            
                            <div class="form-group">
                                <h:outputLabel for="password" value="Password" styleClass="form-label"/>
                                <p:password id="password" value="#{loginBean.password}" 
                                          styleClass="form-control" 
                                          placeholder="Enter password"
                                          required="true"
                                          requiredMessage="Password is required"
                                          feedback="false"/>
                            </div>
                            
                            <div class="form-group">
                                <p:commandButton value="Login" 
                                               action="#{loginBean.login}" 
                                               styleClass="btn btn-primary btn-block"
                                               update="messages"/>
                            </div>
                        </h:form>
                        
                        <div class="mt-3 text-center">
                            <small class="text-muted">
                                Default users: admin/admin123, user1/user123, user2/user123
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <h:outputScript library="webjars" name="bootstrap/4.6.2/js/bootstrap.bundle.min.js"/>
    </h:body>
</html>

