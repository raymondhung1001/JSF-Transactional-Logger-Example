[main]
# Session management - must define class first
sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager
sessionManager.sessionIdCookieEnabled = true
sessionManager.sessionIdCookie.name = JSESSIONID

# Authentication configuration
authc.loginUrl = /login.xhtml
authc.successUrl = /todo/list.xhtml

# Note: JpaRealm will be injected via CDI in ShiroEnvironmentLoaderListener
# Do not define it here as it requires CDI injection for UserService

# Cache manager (optional - for better performance)
# cacheManager = org.apache.shiro.cache.MemoryConstrainedCacheManager
# securityManager.cacheManager = $cacheManager

[urls]
# Login page should be accessible without authentication
/login.xhtml = anon
/index.xhtml = anon
/resources/** = anon
/javax.faces.resource/** = anon

# All todo pages require authentication
/todo/** = authc

# Default - require authentication for everything else
/** = authc

